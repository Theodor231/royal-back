(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"Ly1/":function(t,e,i){"use strict";i.d(e,"a",function(){return A});var a=i("fXoL"),n=i("Jo2N"),r=i("Wp6s"),o=i("bTqV"),c=i("tyNb"),s=i("WaCx"),l=i("kmnG"),m=i("ofXK"),b=i("+0xr"),d=i("Dh3D"),h=i("M9IT"),u=i("bv9b");function f(t,e){if(1&t){const t=a.Wb();a.Vb(0,"div",16),a.Vb(1,"mat-card-title",17),a.Ac(2,"Filter"),a.Ub(),a.kc(3),a.Vb(4,"mat-card-actions"),a.Vb(5,"div",18),a.Vb(6,"button",19),a.dc("click",function(){return a.tc(t),a.hc().resetFilter()}),a.Ac(7,"reset"),a.Ub(),a.Vb(8,"button",20),a.dc("click",function(){return a.tc(t),a.hc().loadData()}),a.Ac(9," Apply "),a.Ub(),a.Ub(),a.Ub(),a.Ub()}}function p(t,e){1&t&&a.Qb(0,"mat-progress-bar",21)}function g(t,e){if(1&t&&(a.Vb(0,"th",26),a.Ac(1),a.Ub()),2&t){const t=a.hc().$implicit;a.mc("mat-sort-header",t.value)("disabled",!t.sortable),a.Db(1),a.Cc(" ",t.text," ")}}function D(t,e){if(1&t&&(a.Vb(0,"td",28),a.Vb(1,"a",29),a.Ac(2," View "),a.Ub(),a.Ub()),2&t){const t=e.$implicit,i=a.hc(2).$implicit;a.Db(1),a.mc("href",t[i.value].url,a.uc)}}function w(t,e){1&t&&(a.Tb(0),a.zc(1,D,3,1,"td",27),a.Sb())}const V=function(t){return["../../edit",t]};function U(t,e){if(1&t){const t=a.Wb();a.Vb(0,"td",31),a.Vb(1,"div",4),a.Vb(2,"button",32),a.dc("click",function(){a.tc(t);const i=e.$implicit;return a.hc(3).openConfirm(i.id)}),a.Vb(3,"icon",33),a.Ac(4,"delete"),a.Ub(),a.Ub(),a.Vb(5,"button",34),a.Vb(6,"icon",33),a.Ac(7,"edit"),a.Ub(),a.Ub(),a.Ub(),a.Ub()}if(2&t){const t=e.$implicit;a.Db(5),a.mc("routerLink",a.oc(1,V,t.id))}}function v(t,e){1&t&&(a.Tb(0),a.zc(1,U,8,3,"td",30),a.Sb())}function S(t,e){if(1&t&&(a.Vb(0,"td",28),a.Ac(1),a.Ub()),2&t){const t=e.$implicit,i=a.hc(2).$implicit;a.Db(1),a.Cc(" ",t[i.value]," ")}}function z(t,e){1&t&&(a.Tb(0),a.zc(1,S,2,1,"td",27),a.Sb())}function y(t,e){if(1&t&&(a.Tb(0,22),a.zc(1,g,2,3,"th",23),a.zc(2,w,2,0,"ng-container",24),a.zc(3,v,2,0,"ng-container",24),a.zc(4,z,2,0,"ng-container",25),a.Sb()),2&t){const t=e.$implicit;a.mc("matColumnDef",t.value)("ngSwitch",t.value),a.Db(2),a.mc("ngSwitchCase","image"),a.Db(1),a.mc("ngSwitchCase","actions")}}function C(t,e){1&t&&a.Qb(0,"tr",35)}function F(t,e){1&t&&a.Qb(0,"tr",36)}function k(t,e){1&t&&(a.Vb(0,"tr",37),a.Vb(1,"td",38),a.Ac(2,"No data matching the filter"),a.Ub(),a.Ub())}const x=function(t,e){return["/",t,e,"create"]},O=["*"];let A=(()=>{class t{constructor(t){this.helpers=t,this.showFilters=!1,this.loading=!1,this.items=[],this.pageSizeOptions=[5,10,25,100],this.columnsToDisplay=[],this.headers=[],this.params={},this.module="",this.sort=new a.o,this.page=new a.o,this.confirm=new a.o,this.update=new a.o,this.filter=new a.o,this.resetParams=new a.o}ngOnInit(){}toggleFilter(){this.filter.emit()}loadData(){this.update.emit()}sortData(t){this.sort.emit(t)}openConfirm(t){this.confirm.emit(t)}changePage(t){this.page.emit(t)}resetFilter(){this.resetParams.emit()}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(n.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-data-table"]],inputs:{showFilters:"showFilters",loading:"loading",items:"items",pageSizeOptions:"pageSizeOptions",columnsToDisplay:"columnsToDisplay",headers:"headers",params:"params",module:"module"},outputs:{sort:"sort",page:"page",confirm:"confirm",update:"update",filter:"filter",resetParams:"resetParams"},ngContentSelectors:O,decls:25,vars:14,consts:[[2,"margin","50px"],[1,"mt-10",2,"width","100%"],[2,"display","flex","align-items","center","justify-content","space-between","margin-bottom","10px"],["mat-stroked-button","","text","primary",3,"routerLink"],[1,"d-flex","align-center"],[1,"ml-5"],["mat-icon-button","",3,"click"],["mat-icon-button","",2,"margin-right","10px",3,"click"],["class","d-flex flex-column",4,"ngIf"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortChange"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"length","pageSize","pageSizeOptions","page"],[1,"d-flex","flex-column"],[1,"mt-10"],[1,"d-flex","align-center","justify-end","full-width"],["mat-flat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mode","indeterminate"],[3,"matColumnDef","ngSwitch"],["mat-header-cell","",3,"mat-sort-header","disabled",4,"matHeaderCellDef"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-header-cell","",3,"mat-sort-header","disabled"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["target","_blank",3,"href"],["mat-cell","","style","width: 50px; padding: 0 !important","class","pa-0",4,"matCellDef"],["mat-cell","",1,"pa-0",2,"width","50px","padding","0 !important"],["mat-icon-button","","color","error",3,"click"],["size","16"],["mat-icon-button","","color","gray",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a.lc(),a.Vb(0,"mat-card",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"button",3),a.Vb(4,"div",4),a.Vb(5,"icon"),a.Ac(6,"add"),a.Ub(),a.Vb(7,"mat-label",5),a.Ac(8),a.Ub(),a.Ub(),a.Ub(),a.Vb(9,"div"),a.Vb(10,"button",6),a.dc("click",function(){return e.loadData()}),a.Vb(11,"icon"),a.Ac(12,"refresh"),a.Ub(),a.Ub(),a.Vb(13,"button",7),a.dc("click",function(){return e.toggleFilter()}),a.Vb(14,"icon"),a.Ac(15,"filter_alt"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.zc(16,f,10,0,"div",8),a.zc(17,p,1,0,"mat-progress-bar",9),a.Ub(),a.Vb(18,"mat-card-content"),a.Vb(19,"table",10),a.dc("matSortChange",function(t){return e.sortData(t)}),a.zc(20,y,5,4,"ng-container",11),a.zc(21,C,1,0,"tr",12),a.zc(22,F,1,0,"tr",13),a.zc(23,k,3,0,"tr",14),a.Ub(),a.Vb(24,"mat-paginator",15),a.dc("page",function(t){return e.changePage(t)}),a.Ub(),a.Ub(),a.Ub()),2&t&&(a.Db(3),a.mc("routerLink",a.pc(11,x,e.helpers.localization().activeLanguage,e.module)),a.Db(5),a.Cc("create ",e.module,""),a.Db(8),a.mc("ngIf",e.showFilters),a.Db(1),a.mc("ngIf",e.loading),a.Db(2),a.mc("dataSource",e.items),a.Db(1),a.mc("ngForOf",e.headers),a.Db(1),a.mc("matHeaderRowDef",e.columnsToDisplay),a.Db(1),a.mc("matRowDefColumns",e.columnsToDisplay),a.Db(2),a.mc("length",e.params.total)("pageSize",e.params.per_page)("pageSizeOptions",e.pageSizeOptions))},directives:[r.a,o.a,c.d,s.a,l.f,m.l,r.c,b.k,d.a,m.k,b.g,b.j,b.h,h.a,r.f,r.b,u.a,b.c,m.n,b.e,m.o,m.p,b.d,d.b,b.b,b.a,b.f,b.i],styles:[".mat-row[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}"]}),t})()},OEvp:function(t,e,i){"use strict";i.d(e,"a",function(){return P});var a=i("mrSG"),n=i("fXoL"),r=i("Jo2N"),o=i("yZrb"),c=i("3Pt+"),s=i("tyNb"),l=i("Wp6s"),m=i("bTqV"),b=i("NFeN"),d=i("ofXK"),h=i("+0xr"),u=i("Dh3D"),f=i("M9IT"),p=i("zkoq"),g=i("kmnG"),D=i("qFsG"),w=i("bv9b");function V(t,e){1&t&&(n.Vb(0,"div",13),n.Vb(1,"mat-card-title"),n.Ac(2,"FIlter"),n.Ub(),n.Vb(3,"mat-grid-list",14),n.Vb(4,"mat-grid-tile"),n.Vb(5,"mat-form-field",15),n.Vb(6,"mat-label"),n.Ac(7,"Favorite food"),n.Ub(),n.Qb(8,"input",16),n.Ub(),n.Ub(),n.Vb(9,"mat-grid-tile"),n.Vb(10,"mat-form-field",15),n.Vb(11,"mat-label"),n.Ac(12,"Favorite food"),n.Ub(),n.Qb(13,"input",16),n.Ub(),n.Ub(),n.Vb(14,"mat-grid-tile"),n.Vb(15,"mat-form-field",15),n.Vb(16,"mat-label"),n.Ac(17,"Favorite food"),n.Ub(),n.Qb(18,"input",16),n.Ub(),n.Ub(),n.Vb(19,"mat-grid-tile"),n.Vb(20,"mat-form-field",15),n.Vb(21,"mat-label"),n.Ac(22,"Favorite food"),n.Ub(),n.Qb(23,"input",16),n.Ub(),n.Ub(),n.Ub(),n.Ub())}function U(t,e){1&t&&n.Qb(0,"mat-progress-bar",17)}function v(t,e){if(1&t&&(n.Vb(0,"th",22),n.Ac(1),n.Ub()),2&t){const t=n.hc().$implicit;n.mc("mat-sort-header",t.value)("disabled",!t.sortable),n.Db(1),n.Cc(" ",t.text," ")}}function S(t,e){if(1&t&&(n.Vb(0,"td",24),n.Vb(1,"a",25),n.Ac(2," View "),n.Ub(),n.Ub()),2&t){const t=e.$implicit,i=n.hc(2).$implicit;n.Db(1),n.mc("href",t[i.value].url,n.uc)}}function z(t,e){1&t&&(n.Tb(0),n.zc(1,S,3,1,"td",23),n.Sb())}function y(t,e){if(1&t){const t=n.Wb();n.Vb(0,"td",24),n.Vb(1,"div"),n.Vb(2,"button",26),n.dc("click",function(){n.tc(t);const i=e.$implicit;return n.hc(3).openConfirm(i.id)}),n.Vb(3,"mat-icon"),n.Ac(4,"delete"),n.Ub(),n.Ub(),n.Ub(),n.Ub()}}function C(t,e){1&t&&(n.Tb(0),n.zc(1,y,5,0,"td",23),n.Sb())}function F(t,e){if(1&t&&(n.Vb(0,"td",24),n.Ac(1),n.Ub()),2&t){const t=e.$implicit,i=n.hc(2).$implicit;n.Db(1),n.Cc(" ",t[i.value]," ")}}function k(t,e){1&t&&(n.Tb(0),n.zc(1,F,2,1,"td",23),n.Sb())}function x(t,e){if(1&t&&(n.Tb(0,18),n.zc(1,v,2,3,"th",19),n.zc(2,z,2,0,"ng-container",20),n.zc(3,C,2,0,"ng-container",20),n.zc(4,k,2,0,"ng-container",21),n.Sb()),2&t){const t=e.$implicit;n.mc("matColumnDef",t.value)("ngSwitch",t.value),n.Db(2),n.mc("ngSwitchCase","image"),n.Db(1),n.mc("ngSwitchCase","actions")}}function O(t,e){1&t&&n.Qb(0,"tr",27)}function A(t,e){1&t&&n.Qb(0,"tr",28)}function T(t,e){1&t&&(n.Vb(0,"tr",29),n.Vb(1,"td",30),n.Ac(2,"No data matching the filter"),n.Ub(),n.Ub())}let P=(()=>{class t{constructor(t,e,i,a,n,r){this.helpers=t,this.api=e,this.formBuilder=i,this.route=a,this.router=n,this.ref=r,this.moduleName="",this.items=[],this.headers=[],this.loading=!1,this.pageSizeOptions=[5,10,25,100],this.showFilters=!1,this.columnsToDisplay=[],this.params={page:1,per_page:10,filter:{}},this.ref&&this.ref.reattach(),this.loading=!0,this.module=this.moduleName,a.params.subscribe(t=>{t.page&&(this.params.page=t.page)})}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){this.createForm(),yield this.loadData()})}removeItem(t){return Object(a.a)(this,void 0,void 0,function*(){this.loading=!0;try{const e=yield this.api[this.module]().delete(t);this.helpers.alert().showSuccess(e.message),yield this.loadData()}catch(e){this.helpers.alert().showError(e.error.msg||e.message),this.loading=!1}})}toggleFilters(){this.showFilters=!this.showFilters}createForm(){this.filter=this.formBuilder.group({name:[null],email:[null]})}resetFilter(){return Object(a.a)(this,void 0,void 0,function*(){this.filter.reset(),this.params.filter={},yield this.loadData()})}translate(t){return this.helpers.localization().translate(t)}loadData(){return Object(a.a)(this,void 0,void 0,function*(){this.loading=!0,this.ref&&this.ref.reattach(),this.parseFilter();try{const t=yield this.api[this.module]().getData(Object.assign(Object.assign({},this.params),{filter:JSON.stringify(this.params.filter)}));this.items=t.items,this.params.page=t.page,this.params.total=t.total,this.columnsToDisplay=[...t.headers.map(t=>t.value),"actions"],this.headers=[...t.headers,{value:"actions",text:"",sortable:!1,width:"1em"}]}catch(t){this.helpers.alert().showError(t.error.message)}this.loading=!1,this.ref&&(this.ref.detach(),console.log(this.ref))})}changePage(t){return Object(a.a)(this,void 0,void 0,function*(){this.params.page=t.pageIndex+1,this.params.per_page=t.pageSize,yield this.loadData()})}sortData(t){return Object(a.a)(this,void 0,void 0,function*(){t.direction?this.params.order=JSON.stringify({[t.active]:t.direction.toUpperCase()}):delete this.params.order,yield this.loadData()})}parseFilter(){this.params.filter={};for(const t in this.filter.value)this.filter.value[t]&&(this.params.filter[t]=this.filter.value[t]);this.router.navigate(["."],{relativeTo:this.route,queryParams:this.params.filter}).then(t=>t)}toggleFilter(){this.showFilters=!this.showFilters}openConfirm(t){return Object(a.a)(this,void 0,void 0,function*(){this.helpers.confirm().setConfirm({accept:()=>{this.removeItem(t)}})})}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(r.a),n.Pb(o.a),n.Pb(c.e),n.Pb(s.a),n.Pb(s.c),n.Pb(n.h))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-index-model"]],inputs:{moduleName:"moduleName"},decls:19,vars:9,consts:[[2,"margin","100px"],[1,"",2,"width","100%"],[2,"display","flex","align-items","center","justify-content","flex-end"],["mat-icon-button","",3,"click"],["mat-icon-button","",2,"margin-right","10px",3,"click"],["style","display: flex; flex-direction: column",4,"ngIf"],["mode","indeterminate",4,"ngIf"],["mat-table","","matSort","",2,"width","100%",3,"dataSource","matSortChange"],[3,"matColumnDef","ngSwitch",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"length","pageSize","pageSizeOptions","page"],[2,"display","flex","flex-direction","column"],["cols","5","rowHeight","100px"],["appearance","fill",1,"example-full-width"],["matInput","","placeholder","Ex. Pizza","value","Sushi"],["mode","indeterminate"],[3,"matColumnDef","ngSwitch"],["mat-header-cell","",3,"mat-sort-header","disabled",4,"matHeaderCellDef"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-header-cell","",3,"mat-sort-header","disabled"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["target","_blank",3,"href"],["mat-icon-button","","color","error",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Vb(0,"mat-card",0),n.Vb(1,"mat-card-header"),n.Vb(2,"div",1),n.Vb(3,"div",2),n.Vb(4,"button",3),n.dc("click",function(){return e.loadData()}),n.Vb(5,"mat-icon"),n.Ac(6,"refresh"),n.Ub(),n.Ub(),n.Vb(7,"button",4),n.dc("click",function(){return e.toggleFilter()}),n.Vb(8,"mat-icon"),n.Ac(9,"filter_alt"),n.Ub(),n.Ub(),n.Ub(),n.zc(10,V,24,0,"div",5),n.zc(11,U,1,0,"mat-progress-bar",6),n.Ub(),n.Ub(),n.Vb(12,"mat-card-content"),n.Vb(13,"table",7),n.dc("matSortChange",function(t){return e.sortData(t)}),n.zc(14,x,5,4,"ng-container",8),n.zc(15,O,1,0,"tr",9),n.zc(16,A,1,0,"tr",10),n.zc(17,T,3,0,"tr",11),n.Ub(),n.Vb(18,"mat-paginator",12),n.dc("page",function(t){return e.changePage(t)}),n.Ub(),n.Ub(),n.Ub()),2&t&&(n.Db(10),n.mc("ngIf",e.showFilters),n.Db(1),n.mc("ngIf",e.loading),n.Db(2),n.mc("dataSource",e.items),n.Db(1),n.mc("ngForOf",e.headers),n.Db(1),n.mc("matHeaderRowDef",e.columnsToDisplay),n.Db(1),n.mc("matRowDefColumns",e.columnsToDisplay),n.Db(2),n.mc("length",e.params.total)("pageSize",e.params.per_page)("pageSizeOptions",e.pageSizeOptions))},directives:[l.a,l.d,m.a,b.a,d.l,l.c,h.k,u.a,d.k,h.g,h.j,h.h,f.a,l.f,p.a,p.c,g.c,g.f,D.b,w.a,h.c,d.n,h.e,d.o,d.p,h.d,u.b,h.b,h.a,h.f,h.i],styles:[""],changeDetection:0}),t})()},"m1+a":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var a=i("fXoL"),n=i("IO1d");let r=(()=>{class t{constructor(t,e){this.el=t,this.localize=e,this.translate=""}ngOnInit(){this.getLocales()}getLocales(){this.el.nativeElement.innerHTML=this.localize.translate(this.translate)}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(a.l),a.Pb(n.a))},t.\u0275dir=a.Kb({type:t,selectors:[["","translate",""]],inputs:{translate:"translate"}}),t})()}}]);